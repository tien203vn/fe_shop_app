<app-header></app-header>

<div id="breadcrumb" style=" padding: auto; border-top: 1px solid #e4e7ed;" class="section">
  <!-- container -->
  <div class="container">
    <!-- row -->
    <div class="row">
      <div class="col-md-12">
        <ul class="breadcrumb-tree" style="font-size: 25px;">
          <li><a href="#">Trang chủ</a></li>
          <li class="active">Thông tin cá nhân</li>
        </ul>
      </div>
    </div>
    <!-- /row -->
  </div>
  <!-- /container -->
</div>
<form [formGroup]="userProfileForm">
  <div class="container">
    <div class="row gutters">
      <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
        <div class="card h-100">
          <div class="card-body">
            <div class="account-settings">
              <div class="user-profile">
                <div class="user-avatar">
                  <img src="./assets/images/avatar.jpg" style="height: 100px; width: 100px;" >
                </div>
                <h5 class="user-name">{{userResponse?.fullname}}</h5>
                <h6 class="user-email">{{userResponse?.phone_number}}</h6>
              </div>
              <div class="about">
                <h5>Vai trò</h5>
                <p *ngIf="userResponse?.role?.name === 'user'">Khách hàng</p>
                <p *ngIf="userResponse?.role?.name === 'admin'">Quản trị viên</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
        <div class="card h-100">
          <div class="card-body">
            <div class="row gutters">
              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                <h6 class="mb-2 text-primary">Thông tin người dùng</h6>
              </div>
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label for="fullName">Họ và tên</label>
                  <input type="text" formControlName="fullname" class="form-control" id="fullname"
                    [class.is-invalid]="userProfileForm.get('fullname')!.invalid && userProfileForm.get('fullname')!.touched">
                  @if(userProfileForm.get('fullname')!.invalid &&
                  userProfileForm.get('fullname')!.touched) {
                  <div class="invalid-feedback">
                    Họ và tên là trường bắt buộc.
                  </div>
                  }
                </div>
              </div>
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label for="phone_number">Số điện thoại</label>
                  <input type="phone_number" formControlName="phone_number" class="form-control" id="phone_number" >
                </div>
              </div>
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label for="email">Email</label>
                  <input type="email" formControlName="email" class="form-control" id="email" placeholder="Nhập email">
                </div>
              </div>
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label for="address">Địa chỉ</label>
                  <input type="text" formControlName="address" class="form-control" id="address"
                    [class.is-invalid]="userProfileForm.get('address')!.invalid && userProfileForm.get('address')!.touched"
                    >
                </div>
              </div>
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label for="date_of_birth">Ngày sinh</label>
                  <input type="date" formControlName="date_of_birth" class="form-control" id="date_of_birth"
                    placeholder="Website url">
                </div>
              </div>
            </div>
            <div class="row gutters">
              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                <h6 class="mt-3 mb-2 text-primary">Cập nhật mật khẩu</h6>
              </div>
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label for="password">Mật khẩu</label>
                  <input type="password" class="form-control" formControlName="password" placeholder="Mật khẩu" required
                    id="password" [class.is-invalid]="userProfileForm.get('password')!.invalid
                        && userProfileForm.get('password')!.touched">
                  @if(userProfileForm.get('password')!.invalid
                  && userProfileForm.get('password')!.touched) {
                  <div class="invalid-feedback">
                    Mật khẩu ít nhất 6 ký tự.
                  </div>
                  }
                </div>
              </div>
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <label for="retype_password">Nhập lại mật khẩu</label>
                  <input type="password" class="form-control" formControlName="retype_password"
                    placeholder="Nhập lại mật khẩu" required id="retype_password" [class.is-invalid]="userProfileForm.get('retype_password')!.invalid
                          && userProfileForm.get('retype_password')!.touched">
                  @if(userProfileForm.hasError('passwordMismatch')) {
                  <div class="invalid-feedback">
                    Mật khẩu không khớp.
                  </div>
                  }
                </div>
              </div>
            </div>
            <div class="row gutters">
              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                <div class="text-right d-flex justify-content-end">
                  <button type="button" (click)="save()" id="submit" name="submit" class="btn btn-primary me-2">Lưu</button>
                  <button type="button" routerLink="/" id="submit" name="submit"
                    class="btn btn-secondary ">Hủy</button>
                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</form>
<app-footer></app-footer>